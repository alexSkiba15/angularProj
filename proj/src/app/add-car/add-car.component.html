<h1 class="text-center">Create Car</h1>

<form (ngSubmit)="onSubmit()" class="text-center mx-auto" [formGroup]="form">
  <div class="form-group">
    <label for="SelectBrand">Brand</label>
    <br>
    <select class="custom-select" id="SelectBrand" formControlName="selectBrand">
      <option *ngFor="let c of car.brands;" name="brand"
              class="form-control mx-auto">{{ c }}</option>
    </select>
  </div>
  <div class="form-group">
    <label for="InputModel">Model</label>
    <input type="text" class="form-control mx-auto" id="InputModel" name="model"
           placeholder="Enter car model" formControlName="inputModel">
    <div *ngIf="form.controls.inputModel.invalid && form.controls.inputModel.touched
                && !(form.controls.inputModel.errors.maxlength)">
      <span>Car model cannot be empty</span>
    </div>
    <div *ngIf="form.controls.inputModel.invalid && form.controls.inputModel.errors.maxlength">
      <span>Car cannot be more than {{form.controls.inputModel.errors.maxlength.requiredLength}} characters.
        Actual {{form.controls.inputModel.errors.maxlength.actualLength}}</span>
    </div>
  </div>
  <div class="form-group">
    <label for="InputPrice">Price</label>
    <input type="currency" class="form-control mx-auto" name="0" id="InputPrice"
           placeholder="Enter car price" formControlName="inputPrice">
    <div
      *ngIf="form.controls.inputPrice.invalid && form.controls.inputPrice.touched
              && form.controls.inputPrice.value === ''">
      <span>Price cannot be empty</span>
    </div>
    <div
      *ngIf="form.controls.inputPrice.invalid && form.controls.inputPrice.touched
              && form.controls.inputPrice.value < 0">
      <span>Price cannot be negative</span>
    </div>
    <div
      *ngIf="form.controls.inputPrice.invalid && form.controls.inputPrice.touched
              && form.controls.inputPrice.errors.max">
      <span>Price cannot be more than {{ form.controls.inputPrice.errors.max.max}}$</span>
    </div>
    <div
      *ngIf="form.controls.inputPrice.invalid && form.controls.inputPrice.touched
              && form.controls.inputPrice.errors.min">
      <span>Price cannot be less than {{ form.controls.inputPrice.errors.min.min}}$</span>
    </div>
  </div>
  <div class="form-group">
    <label for="InputYear">Year</label>
    <input type="date" class="form-control mx-auto" name="data" id="InputYear"
           placeholder="Enter car year" formControlName="inputYear">
  </div>
  <div class="button">
    <button type="button" class="btn btn-primary" routerLink="../">Back</button>
    <button type="submit" class="btn btn-primary">Submit</button>
  </div>
</form>
